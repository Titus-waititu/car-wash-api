### Car Wash API Test Requests

@baseUrl = http://localhost:8080
@contentType = application/json
@RefreshToken =eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOjEsImVtYWlsIjoiaG9seUBkdWNrLmNvbSIsInJvbGUiOiJjdXN0b21lciIsImlhdCI6MTc1MTQ2MzE1NSwiZXhwIjoxNzUxNDYzNzU1fQ.4PGWjprAfgzvjWsEequSXINluiMnnI7z1mqNOWDMPXs

### ========== USERS ==========

### Get all users
GET {{baseUrl}}/users

### Create a new user
POST {{baseUrl}}/users
Content-Type: {{contentType}}

{
  "username": "user",
  "email": "user@duck.com",
  "password": "12345678",
  "phone_number": "1234567890"
}

### Create a new user
POST {{baseUrl}}/users
Content-Type: {{contentType}}

{
  "username": "Titus waititu",
  "email": "andreastailas96@gmail.com",
  "password": "12345678",
  "phone_number": "1234567890"
}
### Get user by ID
GET {{baseUrl}}/users

### Search users
GET {{baseUrl}}/users?search=john

### Update user
PATCH {{baseUrl}}/users/f1d7893d-f990-41c4-832a-711680e9a3ed
Content-Type: {{contentType}}

{
  "username": "John Travolta"
}

### Delete user
DELETE {{baseUrl}}/users/1

### ========== AUTH ==========

### Login user
POST {{baseUrl}}/auth/login
Content-Type: {{contentType}}

{
  "username": "John Doe",
  "password": "12345678"
}

### Refresh token
GET {{baseUrl}}/auth/refresh?id=1
Authorization: Bearer {{RefreshToken}}

### ========== SERVICES ==========

### Create a new service
POST {{baseUrl}}/services
Content-Type: {{contentType}}

{
  "name": "Basic Car Wash",
  "price": 25.00,
  "description": "Basic exterior car wash with soap and rinse",
  "duration_minutes": 30,
  "is_mobile_service":true,
  "userId": "d7f74df6-caee-40fc-bc5b-3887a85636a5"
}

### Get all services
GET {{baseUrl}}/services


### Search services
GET {{baseUrl}}/services?search=wash

### Get services by user
GET {{baseUrl}}/services/user/1

### Get services by price range
GET {{baseUrl}}/services/price-range?minPrice=20&maxPrice=50

### Get service by ID
GET {{baseUrl}}/services/1

### Update service
PATCH {{baseUrl}}/services/1
Content-Type: {{contentType}}

{
  "price": 29.99
}

### Delete service
DELETE {{baseUrl}}/services/1

### ========== BOOKINGS ==========

### Create a new booking
POST {{baseUrl}}/bookings
Content-Type: {{contentType}}

{
  "booking_time": "2025-07-15T10:00:00Z",
  "address": "123 Main St, City, State",
  "userId": "d7f74df6-caee-40fc-bc5b-3887a85636a5",
  "serviceId": "38f62908-d41a-4339-916f-7d5a0bbc2a61"
  }

### Get all bookings
GET {{baseUrl}}/bookings

### Get bookings by status
GET {{baseUrl}}/bookings?status=pending

### Get booking statistics
GET {{baseUrl}}/bookings/stats

### Get bookings by user
GET {{baseUrl}}/bookings/user/d7f74df6-caee-40fc-bc5b-3887a85636a5

### Get bookings by service
GET {{baseUrl}}/bookings/service/1

### Get bookings by date range
GET {{baseUrl}}/bookings/date-range?startDate=2025-07-01&endDate=2025-07-31

### Get booking by ID
GET {{baseUrl}}/bookings/1

### Update booking
PATCH {{baseUrl}}/bookings/1
Content-Type: {{contentType}}

{
  "status": "confirmed"
}

### Update booking status
PATCH {{baseUrl}}/bookings/1/status
Content-Type: {{contentType}}

{
  "status": "completed"
}

### Delete booking
DELETE {{baseUrl}}/bookings/1

### ========== FLEET ==========

### Create a new fleet vehicle
POST {{baseUrl}}/fleet
Content-Type: {{contentType}}

{
    "plate_number": "KAV-784",
    "model": "Nissan X-Trail",
    "type": "Deluxe",
  "userId": "bb8d2a1b-cc88-4a55-a9fc-7e3b2952c527"
}

### Get all fleet vehicles
GET {{baseUrl}}/fleet

### Get fleet by status
GET {{baseUrl}}/fleet?status=available

### Search fleet
GET {{baseUrl}}/fleet?search=toyota

### Get fleet statistics
GET {{baseUrl}}/fleet/stats

### Get available vehicles
GET {{baseUrl}}/fleet/available

### Get vehicles by user
GET {{baseUrl}}/fleet/user/1

### Get vehicles by type
GET {{baseUrl}}/fleet/type/Service Vehicle

### Get vehicle by plate number
GET {{baseUrl}}/fleet/plate/ABC-123

### Get fleet vehicle by ID
GET {{baseUrl}}/fleet/1

### Update fleet vehicle
PATCH {{baseUrl}}/fleet/dcd8b2a6-6586-4f47-ac8d-5046f7a96824
Content-Type: {{contentType}}

{
  "next_service_due": "2025-08-01"
}

### Update vehicle status
PATCH {{baseUrl}}/fleet/1/status
Content-Type: {{contentType}}

{
  "status": "dispatched"
}

### Delete fleet vehicle
DELETE {{baseUrl}}/fleet/1

### ========== REVIEWS ==========

### Create a new review
POST {{baseUrl}}/reviews
Content-Type: {{contentType}}

{
  "rating": 3,
  "comment": "Average service, nothing special.",
  "userId": "bb8d2a1b-cc88-4a55-a9fc-7e3b2952c527",
  "serviceId":"3918f3f8-529d-4522-9e81-87d37f9c7256"
}

### Get all reviews
GET {{baseUrl}}/reviews

### Get reviews by rating
GET {{baseUrl}}/reviews?rating=5

### Get review statistics
GET {{baseUrl}}/reviews/stats

### Clean up orphaned reviews (reviews without service relations)
DELETE {{baseUrl}}/reviews/cleanup/orphaned

### Get average rating
GET {{baseUrl}}/reviews/average-rating

### Get top reviews
GET {{baseUrl}}/reviews/top?limit=5

### Get recent reviews
GET {{baseUrl}}/reviews/recent?limit=10

### Get reviews by user
GET {{baseUrl}}/reviews/user/1

### Get review by ID
GET {{baseUrl}}/reviews/1

### Update review
PATCH {{baseUrl}}/reviews/1
Content-Type: {{contentType}}

{
  "rating": 4,
  "comment": "Good service, but could be better."
}

### Delete review
DELETE {{baseUrl}}/reviews/1

### ========== NOTIFICATIONS ==========

### Create a new notification
POST {{baseUrl}}/notifications
Content-Type: {{contentType}}

{
  "title": "Booking Confirmed",
  "message": "Your car wash booking has been confirmed for tomorrow at 10:00 AM",
  "type": "booking_confirmed",
  "priority": "high",
  "channels": ["in_app", "push"],
  "recipientId": "bb8d2a1b-cc88-4a55-a9fc-7e3b2952c527",
  "bookingId": "5e2e8914-0286-40c4-a822-c6f23143969f"
}

### Get all notifications
GET {{baseUrl}}/bookings

### Get notifications by recipient
GET {{baseUrl}}/notifications?recipientId=bb8d2a1b-cc88-4a55-a9fc-7e3b2952c527

### Get unread notifications
GET {{baseUrl}}/notifications?isRead=false

### Get notifications by type
GET {{baseUrl}}/notifications?type=booking_confirmed

### Get notifications with pagination
GET {{baseUrl}}/notifications?limit=10&offset=0

### Get unread count for user
GET {{baseUrl}}/notifications/user/bb8d2a1b-cc88-4a55-a9fc-7e3b2952c527/unread-count

### Get notification stats for user
GET {{baseUrl}}/notifications/user/bb8d2a1b-cc88-4a55-a9fc-7e3b2952c527/stats

### Get notification by ID
GET {{baseUrl}}/notifications/1

### Mark notification as read
PATCH {{baseUrl}}/notifications/1/mark-read
Content-Type: {{contentType}}

{
  "userId": "bb8d2a1b-cc88-4a55-a9fc-7e3b2952c527"
}

### Mark multiple notifications as read
PATCH {{baseUrl}}/notifications/mark-multiple-read
Content-Type: {{contentType}}

{
  "notificationIds": ["1", "2", "3"],
  "userId": "bb8d2a1b-cc88-4a55-a9fc-7e3b2952c527"
}

### Delete notification
DELETE {{baseUrl}}/notifications/1
Content-Type: {{contentType}}

{
  "userId": "bb8d2a1b-cc88-4a55-a9fc-7e3b2952c527"
}

### Create booking notification
POST {{baseUrl}}/notifications/booking/f7602386-4a35-41f9-8c63-d65b670ca8f2
Content-Type: {{contentType}}

{
  "type": "booking_confirmed",
  "customMessage": "Your premium car wash is confirmed!"
}

### Create fleet notification
POST {{baseUrl}}/notifications/fleet/1
Content-Type: {{contentType}}

{
  "type": "vehicle_dispatched",
  "recipientId": "bb8d2a1b-cc88-4a55-a9fc-7e3b2952c527",
  "customMessage": "Your service vehicle is on the way!"
}

### Create promotional notification
POST {{baseUrl}}/notifications/promotional
Content-Type: {{contentType}}

{
  "recipientIds": ["bb8d2a1b-cc88-4a55-a9fc-7e3b2952c527"],
  "title": "Special Discount!",
  "message": "Get 20% off your next car wash service. Book now!",
  "serviceId": "3918f3f8-529d-4522-9e81-87d37f9c7256",
  "imageUrl": "https://example.com/promotion.jpg"
}

### Create bulk notifications
POST {{baseUrl}}/notifications/bulk
Content-Type: {{contentType}}

{
  "recipientIds": ["bb8d2a1b-cc88-4a55-a9fc-7e3b2952c527"],
  "notificationData": {
    "title": "System Maintenance",
    "message": "The app will be under maintenance from 2 AM to 4 AM tomorrow",
    "type": "general",
    "priority": "medium",
    "channels": ["in_app", "email"]
  }
}

### ========== API DOCUMENTATION ==========

### Access Swagger Documentation
GET {{baseUrl}}/api/docs