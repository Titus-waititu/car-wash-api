# ===============================================
# CAR WASH API ENVIRONMENT CONFIGURATION
# ===============================================

# Application Configuration
NODE_ENV=development
PORT=8080

# Database Configuration
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USERNAME=postgres
DATABASE_PASSWORD=your_password
DATABASE_NAME=carwash_db

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_here
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_SECRET=your_refresh_token_secret_here
REFRESH_TOKEN_EXPIRES_IN=30d

# Google OAuth Configuration
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# ===============================================
# M-PESA PAYMENT CONFIGURATION (SAFARICOM)
# ===============================================

# M-Pesa Configuration
MPESA_CONSUMER_KEY=your_mpesa_consumer_key
MPESA_CONSUMER_SECRET=your_mpesa_consumer_secret
MPESA_PASSKEY=your_mpesa_passkey
MPESA_SHORTCODE=174379
MPESA_ENVIRONMENT=sandbox
MPESA_CALLBACK_URL=https://yourdomain.com/api/payments/mpesa/callback

# M-Pesa Test Credentials (Sandbox)
# For testing, you can use these default sandbox values:
# MPESA_CONSUMER_KEY=sandbox_consumer_key
# MPESA_CONSUMER_SECRET=sandbox_consumer_secret
# MPESA_PASSKEY=bfb279f9aa9bdbcf158e97dd71a467cd2e0c893059b10f78e6b72ada1ed2c919
# MPESA_SHORTCODE=174379

# ===============================================
# STRIPE PAYMENT CONFIGURATION
# ===============================================

# Stripe Configuration
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe Test Credentials:
# You need to get these from your Stripe dashboard:
# 1. Go to https://dashboard.stripe.com/test/apikeys
# 2. Copy your test secret key (starts with sk_test_)
# 3. Copy your test publishable key (starts with pk_test_)
# 4. For webhooks, go to https://dashboard.stripe.com/test/webhooks
# 5. Create endpoint for your domain/api/payments/stripe/webhook
# 6. Copy the webhook signing secret (starts with whsec_)

# ===============================================
# LEGACY PAYSTACK CONFIGURATION (Optional)
# ===============================================

# Paystack Configuration (for backward compatibility)
PAYSTACK_SECRET_KEY=sk_test_your_paystack_secret_key
PAYSTACK_BASE_URL=https://api.paystack.co

# ===============================================
# PAYMENT WEBHOOK URLs
# ===============================================

# Payment Success/Failure URLs
PAYMENT_SUCCESS_URL=https://yourdomain.com/payment/success
PAYMENT_CANCEL_URL=https://yourdomain.com/payment/cancel
PAYMENT_WEBHOOK_URL=https://yourdomain.com/api/payments/webhook

# ===============================================
# EMAIL CONFIGURATION (Optional)
# ===============================================

# Email Configuration for notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
EMAIL_FROM=noreply@yourcarwash.com

# ===============================================
# CORS CONFIGURATION
# ===============================================

# Frontend URLs for CORS
FRONTEND_URL=http://localhost:3000
FRONTEND_PROD_URL=https://yourcarwash.com

# ===============================================
# REDIS CONFIGURATION (Optional for caching)
# ===============================================

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ===============================================
# FILE UPLOAD CONFIGURATION
# ===============================================

# File Upload
MAX_FILE_SIZE=5242880
UPLOAD_DIR=uploads
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp

# ===============================================
# LOGGING CONFIGURATION
# ===============================================

# Logging
LOG_LEVEL=debug
LOG_DIR=logs

# ===============================================
# RATE LIMITING CONFIGURATION
# ===============================================

# Rate Limiting
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100

# ===============================================
# SETUP INSTRUCTIONS
# ===============================================

# M-PESA SETUP:
# 1. Go to https://developer.safaricom.co.ke/
# 2. Create an account and login
# 3. Create a new app
# 4. Get your Consumer Key and Consumer Secret
# 5. For sandbox testing, use the test credentials provided
# 6. For production, you'll need to go through Safaricom's approval process

# STRIPE SETUP:
# 1. Go to https://stripe.com/ and create an account
# 2. Get your API keys from the dashboard
# 3. Set up webhooks for payment events
# 4. Test with their test cards: 4242424242424242

# WEBHOOK ENDPOINTS:
# - M-Pesa: POST /api/payments/mpesa/callback
# - Stripe: POST /api/payments/stripe/webhook
# - Legacy: POST /api/payments/webhook

# TESTING PHONE NUMBERS (M-Pesa Sandbox):
# 254708374149 - Test phone number that always succeeds
# 254711049523 - Test phone number that always fails
# Amount: Any amount between 1 and 70000

# TESTING CARDS (Stripe):
# Success: 4242424242424242
# Decline: 4000000000000002
# Insufficient funds: 4000000000009995
# CVV: Any 3 digits, Expiry: Any future date
